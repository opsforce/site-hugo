<!doctype html><html lang=en><head><title>Posts ::
opsforce — Seeing essence through appearance</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/posts/><link rel=stylesheet href=/assets/style.css><link rel=stylesheet href=/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/img/favicon.png><link href=/assets/fonts/Inter-Italic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/assets/fonts/Inter-Regular.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/assets/fonts/Inter-Medium.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/assets/fonts/Inter-MediumItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/assets/fonts/Inter-Bold.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/assets/fonts/Inter-BoldItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="/posts/"><meta property="og:updated_time" content="2021-01-02T17:21:42+08:00"><meta property="og:site_name" content="opsforce"><link rel=alternate type=application/rss+xml href=/posts/index.xml title=opsforce></head><body class=dark-theme><div class=container><header class=header><span class=header__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>opsforce</span>
<span class=logo__cursor></span></a><span class=header__right><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/about>关于</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/about>关于</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class=theme-toggle><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41C32.4934 41 41 32.4934 41 22 41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><div class=posts><div class="post on-list"><h1 class=post-title><a href=/posts/site-use-hugo/>Site Use Hugo</a></h1><div class=post-meta><span class=post-date>2021-01-02</span></div><figure class=post-cover><img src=/images/Snipaste_2021-01-02_17-24-59.png alt="Site Use Hugo"></figure><div class=post-content></div><div><a class="read-more button" href=/posts/site-use-hugo/>Read more →</a></div></div><div class="post on-list"><h1 class=post-title><a href=/posts/hi-sublime-text-3/>Hi, sublime text 3</a></h1><div class=post-meta><span class=post-date>2017-12-09</span></div><span class=post-tags><a href=/tags/develop/>#Develop</a>&nbsp;</span><div class=post-content></div><div><a class="read-more button" href=/posts/hi-sublime-text-3/>Read more →</a></div></div><div class="post on-list"><h1 class=post-title><a href=/posts/hi-iterm2-oh-my-zsh-solarized/>Hi, iterm2 oh-my-zsh solarized</a></h1><div class=post-meta><span class=post-date>2017-11-13</span></div><span class=post-tags><a href=/tags/iterm2/>#iTerm2</a>&nbsp;
<a href=/tags/zsh/>#zsh</a>&nbsp;
<a href=/tags/solarized/>#solarized</a>&nbsp;</span><div class=post-content>iTerm2 brew cask install iterm2 如果没安装homebrew，就直接官方网站下载安装包
zsh http://ohmyz.sh/ https://github.com/robbyrussell/oh-my-zsh
$ curl -L https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh | sh % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0 100 4019 100 4019 0 0 3668 0 0:00:01 0:00:01 --:--:-- 2052k Cloning Oh My Zsh... Cloning into '/Users/opsforce/.oh-my-zsh'... remote: Counting objects: 852, done. remote: Compressing objects: 100% (716/716), done.</div><div><a class="read-more button" href=/posts/hi-iterm2-oh-my-zsh-solarized/>Read more →</a></div></div><div class="post on-list"><h1 class=post-title><a href=/posts/remove-all-iptables-prerouting-nat-rules/>Remove All Iptables PREROUTING Nat Rules</a></h1><div class=post-meta><span class=post-date>2016-06-09</span></div><span class=post-tags><a href=/tags/security/>#Security</a>&nbsp;
<a href=/tags/firewall/>#Firewall</a>&nbsp;
<a href=/tags/iptables/>#Iptables</a>&nbsp;</span><div class=post-content>To Flush iptables PREROUTING chains cannot be achieved by -F iptables option. To remove PREROUTING nat rules from you system first display all PREROUTING chains using a following iptables command:
iptables -t nat --line-numbers -L As you can see the above command will display all PREROUTING chains with relevant line numbers. Next, we can use these line numbers to remove all PREROUTING chains one by one. For example to remove PREROUTING chain with line number 1 we can do:</div><div><a class="read-more button" href=/posts/remove-all-iptables-prerouting-nat-rules/>Read more →</a></div></div><div class="post on-list"><h1 class=post-title><a href=/posts/how-to-change-git-remote-url-in-https-and-git/>修改git的远程url地址git或者https</a></h1><div class=post-meta><span class=post-date>2015-10-19</span></div><span class=post-tags><a href=/tags/git/>#Git</a>&nbsp;</span><div class=post-content>git remote set-url 命令是修改存在的远程库的 URL
提示：了解 HTTPS 和 SSH URL 的不同之处，请查看 “我应该用哪种远程 URL”
这个命令带两个参数
已经存在远程名字，如 origin 新的远程的 URL ，如： https://github.com/USERNAME/REPOSITORY_2.git 如果你用https 更新代码 git@github.com:USER/REPOSITORY_2.git 如果你用 SSH 更新代码 ##Switching remote URLs from SSH to HTTPS 从 SSH 切换 远程 URL 到 HTTPS
1.打开终端( Mac 和 Linux 用户)或者 命令行 (Windows 用户).
2.更改当前工作路径到你的本地项目
3.列出你已经存在的远程库，为了获取到你想要修改的远程的名字
$ git remote -v # origin git@github.com:USERNAME/REPOSITORY.git (fetch) # origin git@github.com:USERNAME/REPOSITORY.git (push) 4.使用 remote set-url 修改从 SSH 切换 远程 URL 到 HTTPS</div><div><a class="read-more button" href=/posts/how-to-change-git-remote-url-in-https-and-git/>Read more →</a></div></div><div class="post on-list"><h1 class=post-title><a href=/posts/sync-bookmarks-of-safari-ie-chrome-firefox/>跨平台同步Safari、IE、Chrome、Firefox的书签</a></h1><div class=post-meta><span class=post-date>2015-10-19</span></div><span class=post-tags><a href=/tags/macos/>#macOS</a>&nbsp;
<a href=/tags/windows/>#Windows</a>&nbsp;
<a href=/tags/safari/>#Safari</a>&nbsp;
<a href=/tags/icloud/>#iCloud</a>&nbsp;</span><div class=post-content></div><div><a class="read-more button" href=/posts/sync-bookmarks-of-safari-ie-chrome-firefox/>Read more →</a></div></div><div class="post on-list"><h1 class=post-title><a href=/posts/github-desktop-bitbucket/>Clone Bitbucket Repository and Add it to GitHub Desktop App (Mac)</a></h1><div class=post-meta><span class=post-date>2015-10-18</span></div><span class=post-tags><a href=/tags/git/>#Git</a>&nbsp;
<a href=/tags/github/>#GitHub</a>&nbsp;
<a href=/tags/bitbucket/>#Bitbucket</a>&nbsp;</span><div class=post-content>You can’t clone a Bitbucket repo using GithHub Desktop directly. Instead you would have to:
Clone the Bitbucket repo locally via command line. Add the cloned repository to your GitHub Desktop app. After completing these 2 steps, you’ll be able to execute sync, push, pull, commit, and other git commands available in GitHub Desktop for your Bitbucket repository just as you would for any GitHub repository.
You will need your Bitbucket repository’s git URL as available on the Overview page of your repository:</div><div><a class="read-more button" href=/posts/github-desktop-bitbucket/>Read more →</a></div></div><div class="post on-list"><h1 class=post-title><a href=/posts/deploy-docker-swarm-use-multi-consul-and-swarm-manager/>Deploy docker swarm use multi consul and swarm-manager</a></h1><div class=post-meta></div><span class=post-tags><a href=/tags/docker/>#Docker</a>&nbsp;
<a href=/tags/swarm/>#Swarm</a>&nbsp;
<a href=/tags/consul/>#Consul</a>&nbsp;</span><div class=post-content>Architecture Prepare # useradd mfg # passwd mfg # echo ' mfg ALL=(ALL) NOPASSWD: ALL' >> /etc/sudoers # exit $ ssh &lt;no_root>@*.*.*.* $ curl -fsSL https://get.docker.com/ | sh $ sudo usermod -aG docker $(whoami) $ sudo systemctl restart docker && sudo systemctl enable docker Consul ##################################################################################################### # consul https://hub.docker.com/r/progrium/consul/ # https://github.com/gliderlabs/docker-consul # https://docs.docker.com/swarm/reference/manage/ # https://docs.docker.com/swarm/reference/join/ ##################################################################################################### Running a real Consul cluster in a production environment Setting up a real cluster on separate hosts is very similar to our single host cluster setup process, but with a few differences: We assume there is a private network between hosts.</div><div><a class="read-more button" href=/posts/deploy-docker-swarm-use-multi-consul-and-swarm-manager/>Read more →</a></div></div><div class="post on-list"><h1 class=post-title><a href=/posts/deploy-kubernetes/>Deploy kubernetes [Continually updating]</a></h1><div class=post-meta></div><span class=post-tags><a href=/tags/docker/>#Docker</a>&nbsp;
<a href=/tags/kubernetes/>#Kubernetes</a>&nbsp;</span><div class=post-content>Architecture Tutorial Deploy docker-engine 1.12.6 on ubuntu 16.04 xenial [all node] $ sudo apt-get update $ sudo apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D $ sudo apt-add-repository 'deb https://apt.dockerproject.org/repo ubuntu-xenial main' $ sudo apt-get update $ sudo apt-cache policy docker-engine # find docker-engine version you need to install docker-engine: Installed: (none) Candidate: 17.05.0~ce-0~ubuntu-xenial Version table: 17.05.0~ce-0~ubuntu-xenial 500 500 https://apt.dockerproject.org/repo ubuntu-xenial/main amd64 Packages 17.04.0~ce-0~ubuntu-xenial 500 500 https://apt.dockerproject.org/repo ubuntu-xenial/main amd64 Packages 17.03.1~ce-0~ubuntu-xenial 500 500 https://apt.</div><div><a class="read-more button" href=/posts/deploy-kubernetes/>Read more →</a></div></div><div class="post on-list"><h1 class=post-title><a href=/posts/fix-macos-mojave-ssh-connect-trouble/>fix-macos-mojave-ssh-connect-trouble</a></h1><div class=post-meta></div><span class=post-tags><a href=/tags/macos/>#macOS</a>&nbsp;</span><div class=post-content></div><div><a class="read-more button" href=/posts/fix-macos-mojave-ssh-connect-trouble/>Read more →</a></div></div><div class="post on-list"><h1 class=post-title><a href=/posts/hello-world/>Hello World</a></h1><div class=post-meta></div><div class=post-content></div><div><a class="read-more button" href=/posts/hello-world/>Read more →</a></div></div><div class="post on-list"><h1 class=post-title><a href=/posts/how-to-config-python2-python3-all-in-macos/>Mac下配置Python2和Python3共存</a></h1><div class=post-meta></div><span class=post-tags><a href=/tags/macos/>#macOS</a>&nbsp;
<a href=/tags/python/>#Python</a>&nbsp;
<a href=/tags/virtualenv/>#Virtualenv</a>&nbsp;</span><div class=post-content></div><div><a class="read-more button" href=/posts/how-to-config-python2-python3-all-in-macos/>Read more →</a></div></div><div class="post on-list"><h1 class=post-title><a href=/posts/my-macos-software/>My macOS Software list [Continually updating]</a></h1><div class=post-meta></div><span class=post-tags><a href=/tags/macos/>#macOS</a>&nbsp;</span><div class=post-content></div><div><a class="read-more button" href=/posts/my-macos-software/>Read more →</a></div></div><div class="post on-list"><h1 class=post-title><a href=/posts/what-devops-needs/>What DevOps needs?</a></h1><div class=post-meta></div><span class=post-tags><a href=/tags/develop/>#Develop</a>&nbsp;</span><div class=post-content></div><div><a class="read-more button" href=/posts/what-devops-needs/>Read more →</a></div></div><div class="post on-list"><h1 class=post-title><a href=/posts/use-travis-ci-to-auto-deploy-hexo-to-github/>使用 Travis CI 自动部署 Hexo</a></h1><div class=post-meta></div><span class=post-tags><a href=/tags/ci/cd/>#CI/CD</a>&nbsp;
<a href=/tags/github/>#Github</a>&nbsp;
<a href=/tags/travisci/>#TravisCI</a>&nbsp;</span><div class=post-content>branch: master - 网站源码 branch: gh-pages - html网页
使用GitHub登录travis-ci.org
登录后，点击红色区域选择想要自动部署的repo
到GitHub-setting申请Personal access token
得到Personal access token后，添加到travisci对应repo的环境变量GH_TOKEN
编写.travis.yml，并上传到master分支
# file: .travis.yml language: node_js #设置语言 node_js: stable #设置相应的版本 # S: Build Lifecycle install: - npm install #安装hexo及插件 #before_script: # - npm install -g gulp script: - hexo clean #清除 - hexo generate #生成静态网页 after_script: - cd ./public - git init - git config user.name "your name" #修改name - git config user.email "your email" #修改email - git add .</div><div><a class="read-more button" href=/posts/use-travis-ci-to-auto-deploy-hexo-to-github/>Read more →</a></div></div><div class="post on-list"><h1 class=post-title><a href=/posts/enable-website-ssl/>网站已开启ssl访问</a></h1><div class=post-meta></div><span class=post-tags><a href=/tags/security/>#Security</a>&nbsp;</span><div class=post-content></div><div><a class="read-more button" href=/posts/enable-website-ssl/>Read more →</a></div></div><div class=pagination><div class=pagination__buttons><span class="button previous"><a href=/posts/><span class=button__icon>←</span>
<span class=button__text>Newer posts</span></a></span>
<span class="button next"><a href=/posts/page/3/><span class=button__text>Older posts</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2021 Powered by
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span>
<span>Theme created by
<a href=https://twitter.com/panr target=_blank rel=noopener>panr</a></span></div></div></footer><script src=/assets/main.js></script><script src=/assets/prism.js></script></div></body></html>